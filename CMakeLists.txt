CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

PROJECT(iMeshDeform)


FIND_PACKAGE(GLUT REQUIRED)
FIND_PACKAGE(OpenGL REQUIRED)
FIND_PACKAGE(CGAL REQUIRED)

LIST(APPEND CMAKE_MODULE_PATH cmake-modules)
FIND_PACKAGE(PETSc REQUIRED)
#FIND_PACKAGE(SLEPc REQUIRED)

INCLUDE_DIRECTORIES(include ${GLUT_INCLUDE_DIR} ${OPENGL_INCLUDE_DIR} ${PETSC_INCLUDES})
INCLUDE(${CGAL_USE_FILE})
ADD_DEFINITIONS(${PETSC_DEFINITIONS})

SET(CMAKE_CXX_FLAGS "-g -Wall")
SET(LIBS ${OPENGL_LIBRARIES} ${GLUT_LIBRARIES} ${PETSC_LIBRARIES})


ADD_SUBDIRECTORY(src/subspace lib/subspace)
ADD_SUBDIRECTORY(src/fsvd     lib/fsvd)
ADD_SUBDIRECTORY(src/test     bin/test)
ADD_SUBDIRECTORY(src bin)
